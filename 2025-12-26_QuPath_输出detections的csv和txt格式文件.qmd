---
title: è¾“å‡ºcsvå’Œtxt
subtitle: è¾“å‡ºdetectionsçš„csvå’Œtxtæ ¼å¼æ–‡ä»¶
date: 2025-12-26
toc-depth: 4
toc-expand: true
lang: en
---

å¯¹äºQuPathé¡¹ç›®å›¾ç‰‡çš„detectionsç»“æœï¼Œæœ‰æ—¶å€™å› ä¸ºæŸç§éœ€è¦ï¼Œå°±æƒ³è¾“å‡ºé€—å·åˆ†éš”ï¼ˆcomma-separatedï¼‰çš„csvæ ¼å¼æ–‡ä»¶ï¼Œæˆ–è€…å°±æƒ³è¾“å‡ºåˆ¶è¡¨ç¬¦åˆ†éš”ï¼ˆtab-separatedï¼‰çš„txtæ ¼å¼æ–‡ä»¶ã€‚

<center>
![](images/qupath-csv-txt.png){width="100%"}
</center>

## 1. è¾“å‡ºcsvå’Œtxtæ ¼å¼æ–‡ä»¶

å‚è€ƒå¦‚ä¸‹ä»£ç ï¼š

```
// QuPath v0.6.0

import qupath.lib.gui.tools.MeasurementExporter

// #########################################
// Export all detections as comma-separated file (.csv)
// #########################################
// Make the current image name as a list
def entryList = [getProjectEntry()]

// If the folder detections exist, do noting; else create the folder
def outputPath = buildFilePath(PROJECT_BASE_DIR, "detections")
mkdirs(outputPath)

// Separate each measurement value in the output file with ","
def separator = ","

def csvName = getCurrentImageName() + "_detections.csv"
def csvOutputFile = new File(buildFilePath(outputPath, csvName))

// Create the measurementExporter and start the export
def exporter = new MeasurementExporter()
    .imageList(entryList)
    .separator(separator)
    .allDetections()
    .exportMeasurements(csvOutputFile)

println "${csvOutputFile} saved."

// #########################################
// Export all detections as tab-separated file (.txt)
// #########################################
def txtName = getCurrentImageName() + "_detections.txt"
def txtOutputFile = new File(buildFilePath(outputPath, txtName))
saveDetectionMeasurements("${txtOutputFile}")

println "${txtOutputFile} saved."

println "Done."
```

ä»¥ä¸Šä»£ç éƒ¨åˆ†å‚è€ƒè‡ª[@MicroscopyRA2020]ã€‚

ç¡®è®¤ä¸‹æ–‡ä»¶å·²ç»ä¿å­˜æˆåŠŸï¼š
```{r}
#| eval: false
# R v4.5.2
outputPath <- "path/to/detections/"
outputPath |> fs::dir_tree()

path/to/detections/
â”œâ”€â”€ image1_detections.csv
â”œâ”€â”€ image1_detections.txt
â”œâ”€â”€ image2_detections.csv
â”œâ”€â”€ image2_detections.txt
â”œâ”€â”€ image3_detections.csv
â”œâ”€â”€ image3_detections.txt
â”œâ”€â”€ image4_detections.csv
â”œâ”€â”€ image4_detections.txt
â”œâ”€â”€ image5_detections.csv
â””â”€â”€ image5_detections.txt
```

[ç»™æˆ‘ä¹°æ¯èŒ¶ğŸµ](ç»™æˆ‘ä¹°æ¯èŒ¶.qmd)

## References