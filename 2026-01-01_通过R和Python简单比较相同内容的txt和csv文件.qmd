---
title: R vs Python in txt and csv
subtitle: é€šè¿‡Rå’ŒPythonç®€å•æ¯”è¾ƒç›¸åŒå†…å®¹çš„txtå’Œcsvæ–‡ä»¶
date: 2026-01-01
toc-depth: 4
toc-expand: true
lang: en
---

åœ¨2025-12-26æˆ‘ä»¬é€šè¿‡QuPathçš„groovy scriptè¾“å‡ºäº†detectionsçš„csvï¼ˆcomma-separatedï¼‰æ ¼å¼æ–‡ä»¶å’Œtxtï¼ˆtab-separatedï¼‰æ ¼å¼æ–‡ä»¶ï¼ˆ[QuPathï¼šè¾“å‡ºdetectionsçš„csvå’Œtxtæ ¼å¼æ–‡ä»¶](2025-12-26_QuPath_è¾“å‡ºdetectionsçš„csvå’Œtxtæ ¼å¼æ–‡ä»¶.qmd)ï¼‰ã€‚

æœ¬ç€ä¸¥è°¨çš„æ€åº¦ï¼Œè¿˜æ˜¯åº”è¯¥ï¼ˆç®€å•ï¼‰æ¯”è¾ƒä¸‹csvå’Œtxtæ ¼å¼æ–‡ä»¶çš„å†…å®¹æ˜¯å¦å®Œå…¨ç›¸åŒã€‚

æˆ‘ä»¬å°è¯•é€šè¿‡Rå’ŒPythonç®€å•æ¯”è¾ƒï¼Œå¦å¤–ï¼š

- æ¯”è¾ƒRä»£ç çš„ä¸¤ç§é£æ ¼ã€‚
- æ¯”è¾ƒRä»£ç å’ŒPythonä»£ç ã€‚

<center>
![](images/qupath-csv-txt-r-python.png){width="60%"}
</center>

## 1. é€šè¿‡Rç®€å•æ¯”è¾ƒ

```{r}
#| warning: false

# R v4.5.2

# Load packages
readr |> library()
# or
library(readr)

# ===== Read csv file =====
csv_file_path <- "raw_data/AsPC LZ #1 GEM  Ker488 FN 568 pN 647 _01.vsi - 20x_detections_trimmed.csv"

csv_file <- csv_file_path |> 
    read_csv(show_col_types = FALSE)
# or
csv_file <- read_csv(csv_file_path, show_col_types = FALSE)

# ===== Read txt file =====
txt_file_path <- "raw_data/AsPC LZ #1 GEM  Ker488 FN 568 pN 647 _01.vsi - 20x_detections_trimmed.txt"

txt_file <- txt_file_path |> 
    read_tsv(show_col_types = FALSE)
# or
txt_file <- read_tsv(txt_file_path, show_col_types = FALSE)

# ===== some comparisons =====
# Compare dimention
csv_file |> dim() # rows columns
# or
dim(csv_file)

txt_file |> dim()
# or
dim(txt_file)

(csv_file |> dim()) == (txt_file |> dim()) # check if they are the same
# or
dim(csv_file) == dim(txt_file)

# Compare column names
(csv_file |> names()) == (txt_file |> names()) # check if the column names are the same
# or
names(csv_file) == names(txt_file)

# Compare two specific positions/cells
csv_file[5, 10] == txt_file[5, 10] # check if the content at row 500 and column 10 is the same
csv_file[10, 30] == txt_file[10, 30]
```

## 2. é€šè¿‡Pythonç®€å•æ¯”è¾ƒ

```{r}
#| echo: false

# R v4.5.2

# This will ensure that python code will be executed in the conda environment of base.

reticulate |> library() # load reticulate package
"base" |> use_condaenv() # use conda base environment
```

```{python}
#| warning: false

# Python 3.13.9

# Load packages
import pandas as pd

# ===== Read csv file =====
csv_file_path = "raw_data/AsPC LZ #1 GEM  Ker488 FN 568 pN 647 _01.vsi - 20x_detections_trimmed.csv"

csv_file = pd.read_csv(csv_file_path)

# ===== Read txt file =====
txt_file_path = "raw_data/AsPC LZ #1 GEM  Ker488 FN 568 pN 647 _01.vsi - 20x_detections_trimmed.txt"

txt_file = pd.read_table(txt_file_path)

# ===== Some comparisons =====
# Compare dimention
print(csv_file.shape)  # (rows, columns)
print(txt_file.shape)
csv_file.shape == txt_file.shape # check if they are the same

# Compare column names
csv_file.columns == txt_file.columns

# Compare two specific position/cell
csv_file.iloc[4, 10] == txt_file.iloc[4, 11] # check if the content at row 500 and column 10 is the same
csv_file.iloc[9, 30] == csv_file.iloc[9, 30]
```

Rå’ŒPythonéƒ½è¯´æ˜csvæ ¼å¼å’Œtxtæ ¼å¼æ–‡ä»¶çš„å†…å®¹å®Œå…¨ç›¸åŒã€‚

[ç»™æˆ‘ä¹°æ¯èŒ¶ğŸµ](ç»™æˆ‘ä¹°æ¯èŒ¶.qmd)