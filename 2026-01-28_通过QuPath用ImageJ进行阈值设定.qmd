---
title: é€šè¿‡ImageJå®šé˜ˆå€¼
subtitle: é€šè¿‡QuPathç”¨ImageJè¿›è¡Œé˜ˆå€¼è®¾å®š
date: 2026-01-28
toc-depth: 4
toc-expand: true
lang: en
---

## 1. é˜ˆå€¼é€‰æ‹©åº”è¯¥å®¢è§‚äº›

QuPath (v0.6.0) &rarr; Classify &rarr; Pixel classification &rarr; Train pixel classifier...æˆ–Create thresholder...å¯ä»¥ç”¨äºé˜ˆå€¼è®¾å®šï¼Œä½†æ„Ÿè§‰è¿˜æ˜¯åä¸»è§‚çš„äººä¸ºè®¾å®šã€‚

<center>
![](images/55_qupath_pixel-classification.png){width="80%"}
</center>

è¿™æ ·å¯¹äºå•ç‹¬ä¸€å¼ å›¾ç‰‡ï¼ˆæ¯”å¦‚HEå›¾ç‰‡ï¼‰ï¼Œå¯èƒ½è¿˜å¯ä»¥ã€‚ä½†å¦‚æœä¸€ä¸ªé¡¹ç›®å«æœ‰å¤šä¸ªå›¾ç‰‡ï¼ˆéœ€è¦ç›¸äº’æ¯”è¾ƒåˆ†æï¼‰ï¼Œä¸”ä¸åŒå›¾ç‰‡ä¹‹é—´å­˜åœ¨ä¸åŒç¨‹åº¦çš„æ•´ä½“é¢œè‰²/æŸ“è‰²å·®å¼‚ï¼Œè¿™æ ·è®¾å®šé˜ˆå€¼å¯èƒ½å°±ä¸å¤ªå®¢è§‚äº†ã€‚

è¿™æ—¶å€™éœ€è¦ä¸€ä¸ªç›¸å¯¹å®¢è§‚çš„æ–¹æ³•ç”¨äºé˜ˆå€¼è®¾å®šã€‚

## 2. QuPathå’ŒImageJçš„å…³ç³»

å¦‚QuPathçš„è¯´æ˜æ–‡ä»¶æ‰€è¿°[@QuPath_ImageJ]ï¼š

> QuPath was created by someone who was (and is) a big fan of ImageJ.

> In fact, QuPath started life as a collection of ImageJ plugins for digital pathology.

> Over time ... QuPath was rewritten from scratch as a completely new application, which [uses ImageJ as an extension]{.mark}.

## 3. é€šè¿‡QuPathç”¨ImageJè¿›è¡Œé˜ˆå€¼è®¾å®š

æ‰€ç”¨ç¤ºä¾‹å›¾ç‰‡ä¸ºHEå›¾ç‰‡ã€‚

é¦–å…ˆï¼Œé€šè¿‡QuPathå°†å·²ç»è¿›è¡Œcolor deconvolutionçš„hemotoxyliné€šé“å›¾ç‰‡å‘é€åˆ°ImageJã€‚

<center>
![](images/55_send-to-imagej.png){width="100%"}

![](images/55_send_panel.png){width="50%"}
</center>

å‘é€åˆ°ImageJåï¼Œé€šè¿‡`Plugins` &rarr; `Macros` &rarr; `Record...`è®°å½•åœ¨ImageJçš„æ“ä½œã€‚

<center>
![è¯¥ç¤ºä¾‹é»˜è®¤ä½¿ç”¨`Default`æ–¹æ³•ï¼ˆ[è‡ªåŠ¨é€‰æ‹©`32`ä¸ºé˜ˆå€¼]{.mark}ï¼‰ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹æ‹‰ç®­å¤´é€‰æ‹©å…¶å®ƒæ–¹æ³•æµ‹è¯•ã€‚](images/55_threshold_record.png){width="100%"}

![](images/55_imagej_record.png){width="100%"}

![å°†ImageJ ROIå‘å›QuPathã€‚](images/55_back-to-qupath.png){width="100%"}
</center>

æ„Ÿè§‰è¿˜ä¸èµ–ã€‚

## 4. ä½¿ç”¨QuPathçš„ImageJ script runner

é€šè¿‡ImageJçš„`Record...`è®°å½•äº†åœ¨ImageJçš„æ“ä½œè¿‡ç¨‹/ImageJ Macroï¼Œè¿™æ—¶å€™å¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹ä»£ç å¤åˆ¶åˆ°QuPathçš„ImageJ script runnerï¼ˆè§å›¾1ï¼‰ã€‚åŒæ ·å¯ä»¥å®ç°ä¸Šé¢çš„æ“ä½œã€‚

<center>
![`Select channels: Hematoxylin`ã€‚å‹¾é€‰`Add script to command history`ï¼ˆè¿™æ ·å¯ä»¥æ„å»ºgroovy scriptï¼Œç”¨äºåŸºäºä»£ç çš„æ‰¹é‡æ“ä½œã€‚ï¼‰](images/55_imagej_script_runner.png){width="100%"}
</center>

[ç»™æˆ‘ä¹°æ¯èŒ¶ğŸµ](ç»™æˆ‘ä¹°æ¯èŒ¶.qmd)

## References